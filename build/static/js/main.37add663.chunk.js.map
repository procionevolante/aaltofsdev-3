{"version":3,"sources":["components/PersonList.js","components/Message.js","components/NewPersonForm.js","services/phonebook.js","App.js","reportWebVitals.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","window","confirm","id","PersonList","nameFilter","persons","filter","p","toLowerCase","includes","map","Message","msg","className","type","text","NewPersonForm","newPerson","handlePersonChange","addPerson","onSubmit","value","onChange","baseUrl","exported","getAllPersons","axios","get","then","res","data","pers","post","updatePerson","put","delete","App","useState","setPersons","message","setMessage","msgTimeout","setNewPerson","setNameFilter","useEffect","phonebookService","event","target","preventDefault","oldpers","find","newpers","setTimeout","concat","catch","err","finally","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37add663.chunk.js","sourcesContent":["import React from 'react';\n\n\nconst Person = ({person, deletePerson}) => {\n  const confirmDelete = () => {\n    if (window.confirm(`Really delete ${person.name}?`))\n      deletePerson(person.id);\n  }\n\n  return <div>\n    {person.name} {person.number}\n    <button onClick={() => confirmDelete()}>delete</button>\n  </div>;\n}\n\nconst PersonList = ({ nameFilter, persons, deletePerson }) => (<>\n  {\n    persons.filter(p => \n      p.name.toLowerCase().includes(nameFilter.toLowerCase())\n    ).map(p =>\n      <Person key={p.id} person={p} deletePerson={deletePerson} />\n    )\n  }\n</>)\n\nexport default PersonList;\n","import React from 'react';\n\nconst Message = ({ msg }) => (\n  msg === null?\n    null\n      :\n    <div className={msg.type}>\n      {msg.text}\n    </div>\n)\n\nexport default Message;\n","import React from 'react';\n\nconst NewPersonForm = ({ newPerson, handlePersonChange, addPerson }) => (\n  <form onSubmit = { addPerson }>\n    <div>\n      name: <input name={'name'} value={newPerson.name} onChange={handlePersonChange} />\n    </div>\n    <div>\n      number: <input name={'number'} value={newPerson.number} onChange={handlePersonChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n)\n\nexport default NewPersonForm;\n","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api';\n\nconst getAllPersons = () =>\n  axios.get(`${baseUrl}/persons`)\n    .then(res => res.data);\n\nconst addPerson = (pers) =>\n  axios.post(`${baseUrl}/persons`, pers)\n    .then(res => res.data);\n\nconst updatePerson = (pers) =>\n  axios.put(`${baseUrl}/persons/${pers.id}`, pers)\n    .then(res => res.data);\n\nconst deletePerson = (id) =>\n  axios.delete(`${baseUrl}/persons/${id}`)\n    .then(res => res.data);\n\nconst exported = {\n  getAllPersons,\n  addPerson,\n  updatePerson,\n  deletePerson,\n};\n\nexport default exported;\n","import React, { useState, useEffect } from 'react';\nimport PersonList from './components/PersonList';\nimport Message from './components/Message';\nimport NewPersonForm from './components/NewPersonForm';\nimport phonebookService from './services/phonebook';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ message, setMessage ] = useState(null);\n  const msgTimeout = 3000; // in ms\n  const [ newPerson, setNewPerson ] = useState({\n    name : '',\n    number: '',\n  });\n  const [ nameFilter, setNameFilter ] = useState('');\n\n  useEffect(() => {\n    phonebookService.getAllPersons()\n      .then(data => setPersons(data));\n  }, []);\n\n  // triggered on form submit\n  const addPersonToPhonebook = (event) => {\n    event.preventDefault();\n    // check if person already in phonebook.\n    if (persons.map(p => p.name).includes(newPerson.name) &&\n      window.confirm(`${newPerson.name} is already added to the phonebook, replace old number with new one?`)) {\n      const oldpers = persons.find(p => p.name === newPerson.name);\n      phonebookService.updatePerson({...oldpers, ...newPerson})\n        .then(newpers => {\n          setPersons(persons.map(p => p.id === oldpers.id ? newpers : p));\n          setMessage({type: 'success', text: `Updated ${newpers.name}`});\n          setTimeout(()=> setMessage(null), msgTimeout);\n        })\n    }else {\n      phonebookService.addPerson(newPerson)\n        .then(p => {\n          setPersons(persons.concat(p));\n          setMessage({type: 'success', text: `Added ${p.name}`});\n          setTimeout(()=> setMessage(null), msgTimeout);\n        });\n    }\n  }\n\n  const deletePersonFromPhonebook = (id) => {\n    phonebookService.deletePerson(id)\n      .then(data => setMessage({type: 'success', text: `Deleted ${persons.find(p=>p.id===id).name}`}))\n      .catch(err =>\n        setMessage({type: 'error', text: `Information of '${persons.find(p=>p.id===id).name}' might have already been removed from the server`})\n      ).finally(data => {\n        setPersons(persons.filter(p => p.id !== id))\n        setTimeout(()=> setMessage(null), msgTimeout);\n      });\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value);\n  }\n\n  const handlePersonChange = (event) => {\n    setNewPerson({\n      ...newPerson,\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message msg={message} />\n      <div>\n        Filter by name: <input value={nameFilter} onChange={handleNameFilterChange} />\n      </div>\n      <h2>Add a new</h2>\n      <NewPersonForm\n        newPerson = {newPerson}\n        handlePersonChange = {handlePersonChange}\n        addPerson = {addPersonToPhonebook}\n      />\n      <h2>Numbers</h2>\n      <PersonList deletePerson={deletePersonFromPhonebook} nameFilter={nameFilter} persons={persons} />\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}